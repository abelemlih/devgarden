.banner
  - if project.icon?
    .icon
      = image_tag project.icon.feature.url

  .info
    - heading project.name, class: "name" do

      .tagline= project.tagline
      
      - if project.url?
        .site= link_to project.url.gsub(%r_^https?://_, ''), project.url

      .tags
        - project.tags_grouped.each do |category, tags|
          .tag-category{class: "tag-category-#{category.key}"}
            -tags.each do |tag|
              .tag= tag.name

- with_next_heading_level do

  .meta
    .participants
      - heading "Participants" do
        - project.participants.shuffle.each do |person|
          .name= link_to person.name, person

    - if project.role_requests.any?
      .role-requests
        - heading "Looking for" do
          - project.role_requests.includes(:role).shuffle.each do |request|
            .role= link_to request.role.person_name, request.role

    - if project.scm_urls.any?
      .repos
        - heading "Source code" do
          - project.scm_urls.each do |url|
            .repo= link_to url, url

  - if project.description?
    .description= markdown(project.description)

  = link_to 'Edit', edit_project_path(project)
